<section>
  <b *ngIf="!detail">{{ need.title }}</b>
  <img [src]="preview ? previewImageUrl : need.coverImageUrl" alt="Cover Image">
  <!--<img *ngIf="preview" [src]="previewImageUrl" alt="Cover Image">-->
  <div id="body">
    <div id="info">
      <div>
        <div id="donated">
          ${{ donated }}
        </div>
        <p>donated</p>
      </div>
      <div id="days-remaining" *ngIf="!need.ongoing">
        <div id="days">{{ daysLeft() }}</div>
        <p>days remaining</p>
      </div>
      <div *ngIf="!need.ongoing" id="pending">
        {{ pendingPercent() }}%
        <p>pending</p>
      </div>
      <div *ngIf="need.ongoing" id="pending">
        <i class="fa fa-heart"></i>
        <p>anything helps</p>
      </div>
    </div>

    <div id="buttons">
      <div id="littlebtns" *ngIf="!approving">
        <!--<form #form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" (ngSubmit)="donate(btnId.value)">
        <input type="hidden" name="cmd" value="_s-xclick">
        <input type="hidden" name="custom" value="{&#34;contributionId&#34;:&#34;{{contributionId}}&#34;,&#34;orgId&#34;:&#34;{{need.orgId}}&#34;,&#34;needId&#34;:&#34;{{need.$key}}&#34;}">
        <input #btnId type="hidden" name="hosted_button_id" value="C3HSEYXMSHQHN">
        <input (click)="form.submit()" type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0"
            name="submit" alt="PayPal - The safer, easier way to pay online!">
        </form>-->
        <!--SANDBOX BTN-->
        <form #form action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post" target="_blank" (ngSubmit)="donate()">
          <input type="hidden" name="cmd" value="_s-xclick">
          <input type="hidden" name="hosted_button_id" value="Q9EX75ZGPCQBN">
          <input type="hidden" name="custom" value="{&#34;contributionId&#34;:&#34;{{contributionId}}&#34;,&#34;orgId&#34;:&#34;{{need.orgId}}&#34;,&#34;needId&#34;:&#34;{{need.$key}}&#34;}">
          <input (click)="form.submit()" type="image" src="https://www.sandbox.paypal.com/en_US/i/btn/btn_donate_LG.gif" border="0"
            name="submit" alt="PayPal - The safer, easier way to pay online!">
        </form>

        <!--<button>DONATE</button>-->
        <button class="sharebtn">SHARE</button>
      </div>
      <div id="littlebtns" *ngIf="approving && detail">
        <button class="sharebtn" (click)="toggleApproval()">{{ need.approved ? 'Unapprove' : 'Approve' }}</button>
        <p>
          Currently: {{ need.approved ? 'approved' : 'not approved' }}
        </p>
      </div>
      <div id="bigbtn">
        <button *ngIf="!detail" [routerLink]="need.$key">ABOUT</button>
        <button *ngIf="detail" routerLink="../">BACK TO NEEDS</button>
      </div>
    </div>
    <div *ngIf="need.videoIframe && detail" width="100%" [innerHTML]="need.videoIframe | adjustIframe | safeHtml"></div>
    <div *ngIf="detail" id="details">
      <b>{{ orgInfo?.fName }} {{ orgInfo?.lName }}</b>
      <b>{{ orgInfo?.orgCity }}, {{ orgInfo?.orgState }}</b>
      <h3>{{ need.title }}</h3>

      <p>Started: {{ need.startDate | date }}</p>
      <p>{{ need.body }}</p>
      <div id="body-images">
        <img *ngFor="let url of need.bodyImageUrls" [src]="url.$value" alt="Other Images">
      </div>
    </div>
  </div>
</section>